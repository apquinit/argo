package env

import (
	"log"

	"github.com/kelseyhightower/envconfig"
)

// Env holds the environment variables
type Env struct {
	Port int    `envconfig:"PORT" default:"8080"`               // Port number for the server
	Mode string `envconfig:"MODE" default:"debug" validate:"-"` // Application mode (debug/release)
}

// LoadEnv loads and validates environment variables
func LoadEnv() *Env {
	var env Env

	// Load environment variables into the struct
	err := envconfig.Process("", &env)
	if err != nil {
		log.Fatalf("Error loading environment variables: %v", err) // Terminate if loading fails
	}

	return &env
}
